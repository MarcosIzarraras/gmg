@using GMG.Application.Common
@using GMG.Application.Common.Interfaces
@using GMGv2.Extensions
@inject IUserContext UserContext

@{
    var userName = UserContext.UserName;
    var initials = string.Join("", userName.Split(' ')
        .Select(n => n.FirstOrDefault())
        .Where(c => c != default(char)))
        .ToUpper();
}


<aside class="sidebar" id="sidebar">
    <button class="sidebar-close" onclick="closeSidebar()">
        <i data-lucide="x" style="width:18px;height:18px"></i>
    </button>
    <div class="sidebar-header">
        <div class="logo">
            <div class="logo-icon">
                <i data-lucide="layers" style="width:18px;height:18px;color:white"></i>
            </div>
            <span>Gardeny</span>
        </div>
    </div>

    <nav class="nav-section">
        <div class="nav-label">Main</div>
        <a href="#" class="nav-item">
            <i data-lucide="layout-dashboard" style="width:18px;height:18px"></i>
            Dashboard
        </a>
        <a asp-action="create" asp-controller="sales" class="nav-item">
            <i data-lucide="receipt" style="width:18px;height:18px"></i>
            POS
        </a>
    </nav>
    <nav class="nav-section">
        <div class="nav-label">Products</div>
        <a asp-action="index" asp-controller="producttypes" class="nav-item @Html.IsActive("producttypes", "index")">
            <i data-lucide="folder" style="width:18px;height:18px"></i>
            Categories
        </a>
        <a asp-action="index" asp-controller="products" class="nav-item @Html.IsActive("products", "index")">
            <i data-lucide="boxes" style="width:18px;height:18px"></i>
            Products
        </a>
    </nav>
    <nav class="nav-section">
        <div class="nav-label">Sales</div>
        <a asp-action="index" asp-controller="sales" class="nav-item">
            <i data-lucide="file-axis-3d" style="width:18px;height:18px"></i>
            Sales
        </a>
    </nav>

    <div class="sidebar-footer">
        <div class="user-card">
            <div class="avatar">@initials</div>
            <div class="user-info">
                <div class="user-name">@UserContext.UserName</div>
                <div class="user-role">@UserContext.UserType</div>
            </div>
            <i data-lucide="chevron-down" style="width:16px;height:16px;color:var(--text-muted)"></i>
        </div>
    </div>
</aside>